<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
    />

    <style>
      :root {
        --accent-color: #05a081;
        --accent-color-light: #82d0c0;
        --accent-overlay-color: #fff;
        --body-bg: #fff;
        --body-color: #000;
        --heading-color: #000;
        --table-bg-even: #f3f3f3;
        --table-border-bottom: #dddddd;
      }
      
    </style>

    <meta name="theme-color" content="#05a081" />

    
      <link rel="icon" href="https:&#x2F;&#x2F;gel.github.io&#x2F;processed_images&#x2F;iconweb.5bc282474aa9c014.jpg" />
      <link rel="apple-touch-icon" sizes="48x48" href="https:&#x2F;&#x2F;gel.github.io&#x2F;processed_images&#x2F;iconweb.5bc282474aa9c014.jpg" />
      <link rel="apple-touch-icon" sizes="72x72" href="https:&#x2F;&#x2F;gel.github.io&#x2F;processed_images&#x2F;iconweb.fe16e0bb11047769.jpg" />
      <link rel="apple-touch-icon" sizes="96x96" href="https:&#x2F;&#x2F;gel.github.io&#x2F;processed_images&#x2F;iconweb.605594d8be6a111f.jpg" />
      <link rel="apple-touch-icon" sizes="144x144" href="https:&#x2F;&#x2F;gel.github.io&#x2F;processed_images&#x2F;iconweb.3d1b2eeabf8eca47.jpg" />
      <link rel="apple-touch-icon" sizes="192x192" href="https:&#x2F;&#x2F;gel.github.io&#x2F;processed_images&#x2F;iconweb.b6439cbc27d70267.jpg" />
      <link rel="apple-touch-icon" sizes="256x256" href="https:&#x2F;&#x2F;gel.github.io&#x2F;processed_images&#x2F;iconweb.e69fb5473e9ea744.jpg" />
      <link rel="apple-touch-icon" sizes="384x384" href="https:&#x2F;&#x2F;gel.github.io&#x2F;processed_images&#x2F;iconweb.d03b11f47410640c.jpg" />
      <link rel="apple-touch-icon" sizes="512x512" href="https:&#x2F;&#x2F;gel.github.io&#x2F;processed_images&#x2F;iconweb.d847062c67ed9f5e.jpg" />
      
    

    
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-JD979V1BWS"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-JD979V1BWS');
      </script>
    

    <meta property="og:type" content="website">

    <meta name="twitter:card" content="summary">

    

    

    
      
        <meta name="description" content="" />
        <meta name="twitter:description" content="">
      
    

    
      <meta name="twitter:title" content="Problem Solving">
    

    
      <link rel="prerender" href="&#x2F;blog&#x2F;" />
    
      <link rel="prerender" href="&#x2F;books&#x2F;" />
    
      <link rel="prerender" href="&#x2F;interviews&#x2F;" />
    
      <link rel="prerender" href="&#x2F;generative-ai&#x2F;" />
    

    <link rel="prefetch" href="https:&#x2F;&#x2F;gel.github.io&#x2F;processed_images&#x2F;iconweb.db45dd197188a7fb.jpg" />

    <title>
      
    
    
    
    Gal's 
     
    
        Interviews
    
  Book - Problem Solving
    

    </title>

    
    
<link rel="stylesheet" href="https://gel.github.io/book.css">
      


     





  </head>
  <body>
    

    <main>
    
        <div class="menu">
            
            
            <nav role="navigation">
                <ul>
                    <li>
                        <a href="/">
                            ‚Üê Back to Blog
                        </a>
                    </li>
                    
                        
                        
                        
                        
                            
                            <li >
                                
                                <a href="https:&#x2F;&#x2F;gel.github.io&#x2F;interviews&#x2F;1-intro&#x2F;">
                                    <strong>1.</strong>
                                    Interviews Introduction
                                </a>
                                
                                    <ul>
                                        
                                            <li >
                                                <a href="https:&#x2F;&#x2F;gel.github.io&#x2F;interviews&#x2F;1-intro&#x2F;1-making-a-career-move&#x2F;">
                                                    <strong>1.1.</strong>
                                                    Making a Career Move
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https:&#x2F;&#x2F;gel.github.io&#x2F;interviews&#x2F;1-intro&#x2F;2-finding-the-best-job&#x2F;">
                                                    <strong>1.2.</strong>
                                                    Finding an Optimal Job
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https:&#x2F;&#x2F;gel.github.io&#x2F;interviews&#x2F;1-intro&#x2F;3-passing-the-interview&#x2F;">
                                                    <strong>1.3.</strong>
                                                    Acing the Interview Process
                                                </a>
                                            </li>
                                        
                                    </ul>
                                
                            </li>
                        
                            
                            <li >
                                
                                <a href="https:&#x2F;&#x2F;gel.github.io&#x2F;interviews&#x2F;2-data-structres-and-algorithms&#x2F;">
                                    <strong>2.</strong>
                                    Data structures and Algorithms
                                </a>
                                
                                    <ul>
                                        
                                            <li >
                                                <a href="https:&#x2F;&#x2F;gel.github.io&#x2F;interviews&#x2F;2-data-structres-and-algorithms&#x2F;1-data-structures&#x2F;">
                                                    <strong>2.1.</strong>
                                                    Data Structures
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https:&#x2F;&#x2F;gel.github.io&#x2F;interviews&#x2F;2-data-structres-and-algorithms&#x2F;2-algorithms&#x2F;">
                                                    <strong>2.2.</strong>
                                                    Algorithms
                                                </a>
                                            </li>
                                        
                                    </ul>
                                
                            </li>
                        
                            
                            <li >
                                
                                <a href="https:&#x2F;&#x2F;gel.github.io&#x2F;interviews&#x2F;3-coding-problems&#x2F;">
                                    <strong>3.</strong>
                                    Solving Coding Interview Problems
                                </a>
                                
                                    <ul>
                                        
                                            <li >
                                                <a href="https:&#x2F;&#x2F;gel.github.io&#x2F;interviews&#x2F;3-coding-problems&#x2F;1-logical-and-maintainable&#x2F;">
                                                    <strong>3.1.</strong>
                                                    Logical and Maintainable
                                                </a>
                                            </li>
                                        
                                            <li class="active">
                                                <a href="https:&#x2F;&#x2F;gel.github.io&#x2F;interviews&#x2F;3-coding-problems&#x2F;2-problem-solving&#x2F;">
                                                    <strong>3.2.</strong>
                                                    Problem Solving
                                                </a>
                                            </li>
                                        
                                    </ul>
                                
                            </li>
                        
                            
                            <li >
                                
                                <a href="https:&#x2F;&#x2F;gel.github.io&#x2F;interviews&#x2F;4-system-design&#x2F;">
                                    <strong>4.</strong>
                                    Mastering System Design
                                </a>
                                
                            </li>
                                           
                    
                </ul>
            </nav>
            
            
        </div>

        <div class="page">
            <div class="page__header">
                <div class="menu-icon">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                
                <span class="search-icon">üîé</span>
                
            </div>

            <div class="page__content">
                
                <div class="search-container">
                    <input id="search" type="search" placeholder="Search..">
                    <div class="search-results">
                        <div class="search-results__header"></div>
                        <ul class="search-results__items"></ul>
                    </div>
                </div>
                
                <div class="book-content">
                    
    <h1>Problem Solving</h1>
    <ul>
<li><a href="https://gel.github.io/interviews/3-coding-problems/2-problem-solving/#lru-cache-medium-leetcode-146">LRU Cache - Medium - LeetCode 146</a></li>
<li><a href="https://gel.github.io/interviews/3-coding-problems/2-problem-solving/#longest-palindromic-substring-medium-leetcode-5">Longest Palindromic Substring - Medium - LeetCode 5</a></li>
</ul>
<hr />
<h3 id="lru-cache-medium-leetcode-146">LRU Cache - Medium - <a href="https://leetcode.com/problems/lru-cache/">LeetCode 146</a><a class="zola-anchor" href="#lru-cache-medium-leetcode-146" aria-label="Anchor link for: lru-cache-medium-leetcode-146">üîó</a></h3>
<p><strong>Question</strong></p>
<blockquote>
<p>Design a data structure that follows the constraints of a Least Recently Used (LRU) cache.</p>
</blockquote>
<blockquote>
<p>Implement the LRUCache class:</p>
</blockquote>
<blockquote>
<p>LRUCache(int capacity) Initialize the LRU cache with positive size capacity.
int get(int key) Return the value of the key if the key exists, otherwise return -1.
void put(int key, int value) Update the value of the key if the key exists. Otherwise, add the &gt; key-value pair to the cache. If the number of keys exceeds the capacity from this operation, &gt; evict the least recently used key.
The functions get and put must each run in O(1) average time complexity.</p>
</blockquote>
<p><strong>Explanation</strong></p>
<p>LRU cache is a challenging problem, the problem is mostly focused on how to store the keys efficiently for removal by time inserted. Therefore in addition to the k/v hashtable we need an additional data-structure that allows retrieval, deletion and modification. Heap / Tree based solution are all applicable solutions but requires O(Log(N)) for insertion and removal.</p>
<p>In this problem it is possible to do a constant time when choosing a doubly linked list which allows to add to head and evicti from tail. It also possible to perform modification in constant (move to HEAD).</p>
<p>This is a java implemention of DoublyLinkedList and the LRU Cache. </p>
<p><strong>Solution</strong></p>
<pre data-lang="java" style="background-color:#2b303b;color:#c0c5ce;" class="language-java "><code class="language-java" data-lang="java"><span style="color:#b48ead;">class </span><span style="color:#ebcb8b;">DoublyLinkedList </span><span style="color:#eff1f5;">{
</span><span style="color:#eff1f5;">    </span><span style="color:#b48ead;">public </span><span style="color:#ebcb8b;">Node </span><span style="color:#eff1f5;">root;
</span><span style="color:#eff1f5;">    </span><span style="color:#b48ead;">public </span><span style="color:#ebcb8b;">Node </span><span style="color:#eff1f5;">tail;
</span><span style="color:#eff1f5;">
</span><span style="color:#eff1f5;">    </span><span style="color:#b48ead;">public </span><span style="color:#ebcb8b;">Node </span><span style="color:#8fa1b3;">addToHead</span><span style="color:#eff1f5;">(</span><span style="color:#b48ead;">final int </span><span style="color:#bf616a;">key</span><span style="color:#eff1f5;">) {
</span><span style="color:#eff1f5;">        </span><span style="color:#b48ead;">if </span><span style="color:#eff1f5;">(root </span><span>== </span><span style="color:#d08770;">null</span><span style="color:#eff1f5;">) {
</span><span style="color:#eff1f5;">            </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.root </span><span>= </span><span style="color:#b48ead;">new </span><span style="color:#ebcb8b;">Node</span><span style="color:#eff1f5;">(key, </span><span style="color:#d08770;">null</span><span style="color:#eff1f5;">, </span><span style="color:#d08770;">null</span><span style="color:#eff1f5;">);
</span><span style="color:#eff1f5;">            </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.tail </span><span>= </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.root;
</span><span style="color:#eff1f5;">        } </span><span style="color:#b48ead;">else </span><span style="color:#eff1f5;">{
</span><span style="color:#eff1f5;">            </span><span style="color:#ebcb8b;">Node</span><span style="color:#eff1f5;"> node </span><span>= </span><span style="color:#b48ead;">new </span><span style="color:#ebcb8b;">Node</span><span style="color:#eff1f5;">(key, </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.root, </span><span style="color:#d08770;">null</span><span style="color:#eff1f5;">);
</span><span style="color:#eff1f5;">            </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.root.previous </span><span>=</span><span style="color:#eff1f5;"> node;
</span><span style="color:#eff1f5;">            </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.root </span><span>=</span><span style="color:#eff1f5;"> node;
</span><span style="color:#eff1f5;">        }
</span><span style="color:#eff1f5;">        </span><span style="color:#b48ead;">return </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.root;
</span><span style="color:#eff1f5;">    }
</span><span style="color:#eff1f5;">
</span><span style="color:#eff1f5;">    </span><span style="color:#b48ead;">public void </span><span style="color:#8fa1b3;">moveToHead</span><span style="color:#eff1f5;">(</span><span style="color:#b48ead;">final </span><span style="color:#ebcb8b;">Node </span><span style="color:#bf616a;">node</span><span style="color:#eff1f5;">) </span><span style="color:#b48ead;">throws </span><span style="color:#ebcb8b;">IllegalArgumentException </span><span style="color:#eff1f5;">{
</span><span style="color:#eff1f5;">        </span><span style="color:#b48ead;">if </span><span style="color:#eff1f5;">(</span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.root </span><span>== </span><span style="color:#d08770;">null</span><span style="color:#eff1f5;">) {
</span><span style="color:#eff1f5;">            </span><span style="color:#b48ead;">throw new </span><span style="color:#ebcb8b;">RuntimeException</span><span style="color:#eff1f5;">(</span><span>&quot;</span><span style="color:#a3be8c;">Invalid head state</span><span>&quot;</span><span style="color:#eff1f5;">);
</span><span style="color:#eff1f5;">        }
</span><span style="color:#eff1f5;">
</span><span style="color:#eff1f5;">        </span><span style="color:#b48ead;">if </span><span style="color:#eff1f5;">(</span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.root </span><span>==</span><span style="color:#eff1f5;"> node) { </span><span style="color:#65737e;">// node is already head
</span><span style="color:#eff1f5;">            </span><span style="color:#b48ead;">return</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">        }
</span><span style="color:#eff1f5;">
</span><span style="color:#eff1f5;">        </span><span style="color:#b48ead;">if </span><span style="color:#eff1f5;">(</span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.tail </span><span>==</span><span style="color:#eff1f5;"> node) { </span><span style="color:#65737e;">// node is the tail - fix it
</span><span style="color:#eff1f5;">            </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.tail </span><span>= </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.tail.previous;
</span><span style="color:#eff1f5;">        }
</span><span style="color:#eff1f5;">
</span><span style="color:#eff1f5;">        </span><span style="color:#b48ead;">if </span><span style="color:#eff1f5;">(node.previous </span><span>!= </span><span style="color:#d08770;">null</span><span style="color:#eff1f5;">) { </span><span style="color:#65737e;">// fix existing previous of node
</span><span style="color:#eff1f5;">            node.previous.next </span><span>=</span><span style="color:#eff1f5;"> node.next;
</span><span style="color:#eff1f5;">        }
</span><span style="color:#eff1f5;">
</span><span style="color:#eff1f5;">        </span><span style="color:#b48ead;">if </span><span style="color:#eff1f5;">(node.next </span><span>!= </span><span style="color:#d08770;">null</span><span style="color:#eff1f5;">) { </span><span style="color:#65737e;">// fix existing next of node
</span><span style="color:#eff1f5;">            node.next.previous </span><span>=</span><span style="color:#eff1f5;"> node.previous;
</span><span style="color:#eff1f5;">        }
</span><span style="color:#eff1f5;">
</span><span style="color:#eff1f5;">        </span><span style="color:#65737e;">// set as head
</span><span style="color:#eff1f5;">        node.previous </span><span>= </span><span style="color:#d08770;">null</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">        node.next </span><span>= </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.root;
</span><span style="color:#eff1f5;">        </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.root.previous </span><span>=</span><span style="color:#eff1f5;"> node;
</span><span style="color:#eff1f5;">        </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.root </span><span>=</span><span style="color:#eff1f5;"> node;
</span><span style="color:#eff1f5;">    }
</span><span style="color:#eff1f5;">
</span><span style="color:#eff1f5;">    </span><span style="color:#b48ead;">public </span><span style="color:#ebcb8b;">Node </span><span style="color:#8fa1b3;">evictTail</span><span style="color:#eff1f5;">() {
</span><span style="color:#eff1f5;">        </span><span style="color:#b48ead;">if </span><span style="color:#eff1f5;">(</span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.root </span><span>== </span><span style="color:#d08770;">null</span><span style="color:#eff1f5;">) { </span><span style="color:#65737e;">// list is empty
</span><span style="color:#eff1f5;">            </span><span style="color:#b48ead;">return </span><span style="color:#d08770;">null</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">        }
</span><span style="color:#eff1f5;">
</span><span style="color:#eff1f5;">        </span><span style="color:#b48ead;">if </span><span style="color:#eff1f5;">(</span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.root </span><span>== </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.tail) {
</span><span style="color:#eff1f5;">            </span><span style="color:#ebcb8b;">Node</span><span style="color:#eff1f5;"> reference </span><span>= </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.root;
</span><span style="color:#eff1f5;">            </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.root </span><span>= </span><span style="color:#d08770;">null</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">            </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.tail </span><span>= </span><span style="color:#d08770;">null</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">            </span><span style="color:#b48ead;">return</span><span style="color:#eff1f5;"> reference;
</span><span style="color:#eff1f5;">        }
</span><span style="color:#eff1f5;">
</span><span style="color:#eff1f5;">        </span><span style="color:#ebcb8b;">Node</span><span style="color:#eff1f5;"> existingTail </span><span>= </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.tail;
</span><span style="color:#eff1f5;">        existingTail.previous.next </span><span>= </span><span style="color:#d08770;">null</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">        </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.tail </span><span>=</span><span style="color:#eff1f5;"> existingTail.previous;
</span><span style="color:#eff1f5;">        </span><span style="color:#b48ead;">return</span><span style="color:#eff1f5;"> existingTail;
</span><span style="color:#eff1f5;">    }
</span><span style="color:#eff1f5;">}
</span><span>
</span><span style="color:#b48ead;">class </span><span style="color:#ebcb8b;">LRUCache </span><span style="color:#eff1f5;">{
</span><span style="color:#eff1f5;">    </span><span style="color:#b48ead;">final int </span><span style="color:#eff1f5;">capacity;
</span><span style="color:#eff1f5;">    </span><span style="color:#b48ead;">int </span><span style="color:#eff1f5;">size;
</span><span style="color:#eff1f5;">    </span><span style="color:#b48ead;">final </span><span style="color:#ebcb8b;">Map</span><span style="color:#eff1f5;">&lt;</span><span style="color:#ebcb8b;">Integer</span><span style="color:#eff1f5;">, </span><span style="color:#ebcb8b;">CacheEntry</span><span style="color:#eff1f5;">&gt; cache;
</span><span style="color:#eff1f5;">    </span><span style="color:#b48ead;">final </span><span style="color:#ebcb8b;">DoublyLinkedList </span><span style="color:#eff1f5;">sortedTtlList;
</span><span style="color:#eff1f5;">
</span><span style="color:#eff1f5;">    </span><span style="color:#b48ead;">static class </span><span style="color:#ebcb8b;">CacheEntry </span><span style="color:#eff1f5;">{
</span><span style="color:#eff1f5;">        </span><span style="color:#b48ead;">public </span><span style="color:#8fa1b3;">CacheEntry</span><span style="color:#eff1f5;">(</span><span style="color:#b48ead;">int </span><span style="color:#bf616a;">value</span><span style="color:#eff1f5;">, </span><span style="color:#ebcb8b;">Node </span><span style="color:#bf616a;">node</span><span style="color:#eff1f5;">) {
</span><span style="color:#eff1f5;">            </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.value </span><span>=</span><span style="color:#eff1f5;"> value;
</span><span style="color:#eff1f5;">            </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.node </span><span>=</span><span style="color:#eff1f5;"> node;
</span><span style="color:#eff1f5;">        }
</span><span style="color:#eff1f5;">
</span><span style="color:#eff1f5;">        </span><span style="color:#b48ead;">public int </span><span style="color:#eff1f5;">value;
</span><span style="color:#eff1f5;">        </span><span style="color:#b48ead;">public </span><span style="color:#ebcb8b;">Node </span><span style="color:#eff1f5;">node;
</span><span style="color:#eff1f5;">    }
</span><span style="color:#eff1f5;">
</span><span style="color:#eff1f5;">    </span><span style="color:#b48ead;">public </span><span style="color:#8fa1b3;">LRUCache</span><span style="color:#eff1f5;">(</span><span style="color:#b48ead;">int </span><span style="color:#bf616a;">capacity</span><span style="color:#eff1f5;">) {
</span><span style="color:#eff1f5;">        </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.capacity </span><span>=</span><span style="color:#eff1f5;"> capacity;
</span><span style="color:#eff1f5;">        </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.size </span><span>= </span><span style="color:#d08770;">0</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">        </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.cache </span><span>= </span><span style="color:#b48ead;">new </span><span style="color:#ebcb8b;">HashMap</span><span style="color:#eff1f5;">&lt;&gt;();
</span><span style="color:#eff1f5;">        </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.sortedTtlList </span><span>= </span><span style="color:#b48ead;">new </span><span style="color:#ebcb8b;">DoublyLinkedList</span><span style="color:#eff1f5;">();
</span><span style="color:#eff1f5;">    }
</span><span style="color:#eff1f5;">
</span><span style="color:#eff1f5;">    </span><span style="color:#b48ead;">public int </span><span style="color:#8fa1b3;">get</span><span style="color:#eff1f5;">(</span><span style="color:#b48ead;">int </span><span style="color:#bf616a;">key</span><span style="color:#eff1f5;">) {
</span><span style="color:#eff1f5;">        </span><span style="color:#b48ead;">if </span><span style="color:#eff1f5;">(</span><span>!</span><span style="color:#eff1f5;">cache.</span><span style="color:#bf616a;">containsKey</span><span style="color:#eff1f5;">(key)) {
</span><span style="color:#eff1f5;">            </span><span style="color:#b48ead;">return </span><span>-</span><span style="color:#d08770;">1</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">        }
</span><span style="color:#eff1f5;">
</span><span style="color:#eff1f5;">        </span><span style="color:#ebcb8b;">CacheEntry</span><span style="color:#eff1f5;"> entry </span><span>=</span><span style="color:#eff1f5;"> cache.</span><span style="color:#bf616a;">get</span><span style="color:#eff1f5;">(key);
</span><span style="color:#eff1f5;">        sortedTtlList.</span><span style="color:#bf616a;">moveToHead</span><span style="color:#eff1f5;">(entry.node);
</span><span style="color:#eff1f5;">        </span><span style="color:#b48ead;">return</span><span style="color:#eff1f5;"> entry.value;
</span><span style="color:#eff1f5;">    }
</span><span style="color:#eff1f5;">
</span><span style="color:#eff1f5;">    </span><span style="color:#b48ead;">public void </span><span style="color:#8fa1b3;">put</span><span style="color:#eff1f5;">(</span><span style="color:#b48ead;">int </span><span style="color:#bf616a;">key</span><span style="color:#eff1f5;">, </span><span style="color:#b48ead;">int </span><span style="color:#bf616a;">value</span><span style="color:#eff1f5;">) {
</span><span style="color:#eff1f5;">        </span><span style="color:#b48ead;">if </span><span style="color:#eff1f5;">(cache.</span><span style="color:#bf616a;">containsKey</span><span style="color:#eff1f5;">(key)) {
</span><span style="color:#eff1f5;">            </span><span style="color:#ebcb8b;">CacheEntry</span><span style="color:#eff1f5;"> entry </span><span>=</span><span style="color:#eff1f5;"> cache.</span><span style="color:#bf616a;">get</span><span style="color:#eff1f5;">(key);
</span><span style="color:#eff1f5;">            sortedTtlList.</span><span style="color:#bf616a;">moveToHead</span><span style="color:#eff1f5;">(entry.node);
</span><span style="color:#eff1f5;">            entry.value </span><span>=</span><span style="color:#eff1f5;"> value;
</span><span style="color:#eff1f5;">        } </span><span style="color:#b48ead;">else </span><span style="color:#eff1f5;">{
</span><span style="color:#eff1f5;">            </span><span style="color:#b48ead;">if </span><span style="color:#eff1f5;">(</span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.size </span><span>&lt; </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.capacity) {
</span><span style="color:#eff1f5;">                </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.size </span><span>= </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.size </span><span>+ </span><span style="color:#d08770;">1</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">            } </span><span style="color:#b48ead;">else </span><span style="color:#eff1f5;">{
</span><span style="color:#eff1f5;">                </span><span style="color:#ebcb8b;">Node</span><span style="color:#eff1f5;"> nodeToRemove </span><span>=</span><span style="color:#eff1f5;"> sortedTtlList.</span><span style="color:#bf616a;">evictTail</span><span style="color:#eff1f5;">();
</span><span style="color:#eff1f5;">                cache.</span><span style="color:#bf616a;">remove</span><span style="color:#eff1f5;">(nodeToRemove.key);
</span><span style="color:#eff1f5;">            }
</span><span style="color:#eff1f5;">            </span><span style="color:#b48ead;">final </span><span style="color:#ebcb8b;">Node</span><span style="color:#eff1f5;"> newNode </span><span>=</span><span style="color:#eff1f5;"> sortedTtlList.</span><span style="color:#bf616a;">addToHead</span><span style="color:#eff1f5;">(key);
</span><span style="color:#eff1f5;">            cache.</span><span style="color:#bf616a;">put</span><span style="color:#eff1f5;">(key, </span><span style="color:#b48ead;">new </span><span style="color:#ebcb8b;">CacheEntry</span><span style="color:#eff1f5;">(value, newNode));
</span><span style="color:#eff1f5;">        }
</span><span style="color:#eff1f5;">    }
</span><span style="color:#eff1f5;">}
</span></code></pre>
<hr />
<h3 id="longest-palindromic-substring-medium-leetcode-5">Longest Palindromic Substring - Medium - <a href="https://leetcode.com/problems/longest-palindromic-substring/">LeetCode 5</a><a class="zola-anchor" href="#longest-palindromic-substring-medium-leetcode-5" aria-label="Anchor link for: longest-palindromic-substring-medium-leetcode-5">üîó</a></h3>
<p><strong>Question</strong></p>
<blockquote>
<p>Given a string s, return the longest palindromic substring in s.</p>
</blockquote>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>Input: s = &quot;babad&quot;
</span><span>Output: &quot;bab&quot;
</span><span>Explanation: &quot;aba&quot; is also a valid answer.
</span></code></pre>
<p><strong>Explanation</strong></p>
<p>The simplest solution is calling isPalindrome for every substring. Checking palindrome is <code>O(N)</code> and all substrings are <code>O(N^2)</code> - therefore <code>O(N^3)</code>.</p>
<p>This problem can be converted to a dynamic programming problem where <code>Palindrome(i, j) = Palindrome(i+1, j-1) &amp;&amp; s[i] == s[j]</code> (same for odd and even cases). This will require <code>O(N^2)</code> time and <code>O(N^2)</code> memory.</p>
<p>There is a simpler way to think about this problem. We can think about a palindrome as a center-based string and then check the palindrome from all of the centers.</p>
<p><strong>Solution</strong></p>
<pre data-lang="java" style="background-color:#2b303b;color:#c0c5ce;" class="language-java "><code class="language-java" data-lang="java"><span style="color:#b48ead;">public class </span><span style="color:#ebcb8b;">LongestPalindrome </span><span style="color:#eff1f5;">{
</span><span style="color:#eff1f5;">    </span><span style="color:#b48ead;">private static class </span><span style="color:#ebcb8b;">PalindromeSequence </span><span style="color:#eff1f5;">{
</span><span style="color:#eff1f5;">        </span><span style="color:#b48ead;">public int </span><span style="color:#eff1f5;">startIndex;
</span><span style="color:#eff1f5;">        </span><span style="color:#b48ead;">public int </span><span style="color:#eff1f5;">length;
</span><span style="color:#eff1f5;">
</span><span style="color:#eff1f5;">        </span><span style="color:#8fa1b3;">PalindromeSequence</span><span style="color:#eff1f5;">() {
</span><span style="color:#eff1f5;">            </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.startIndex </span><span>= </span><span style="color:#d08770;">0</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">            </span><span style="color:#bf616a;">this</span><span style="color:#eff1f5;">.length </span><span>= </span><span style="color:#d08770;">1</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">        }
</span><span style="color:#eff1f5;">    }
</span><span style="color:#eff1f5;">
</span><span style="color:#eff1f5;">    </span><span style="color:#b48ead;">private void </span><span style="color:#8fa1b3;">checkAndUpdateLongestPalindrome</span><span style="color:#eff1f5;">(</span><span style="color:#ebcb8b;">String </span><span style="color:#bf616a;">s</span><span style="color:#eff1f5;">, </span><span style="color:#b48ead;">int </span><span style="color:#bf616a;">leftIndex</span><span style="color:#eff1f5;">, </span><span style="color:#b48ead;">int </span><span style="color:#bf616a;">rightIndex</span><span style="color:#eff1f5;">, </span><span style="color:#ebcb8b;">PalindromeSequence </span><span style="color:#bf616a;">maxPalindrome</span><span style="color:#eff1f5;">) {
</span><span style="color:#eff1f5;">        </span><span style="color:#b48ead;">while </span><span style="color:#eff1f5;">(leftIndex </span><span>&gt;= </span><span style="color:#d08770;">0 </span><span>&amp;&amp;</span><span style="color:#eff1f5;"> rightIndex </span><span>&lt;</span><span style="color:#eff1f5;"> s.</span><span style="color:#bf616a;">length</span><span style="color:#eff1f5;">() </span><span>&amp;&amp;</span><span style="color:#eff1f5;"> s.</span><span style="color:#bf616a;">charAt</span><span style="color:#eff1f5;">(leftIndex) </span><span>==</span><span style="color:#eff1f5;"> s.</span><span style="color:#bf616a;">charAt</span><span style="color:#eff1f5;">(rightIndex)) {
</span><span style="color:#eff1f5;">            leftIndex </span><span>-= </span><span style="color:#d08770;">1</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">            rightIndex </span><span>+= </span><span style="color:#d08770;">1</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">        }
</span><span style="color:#eff1f5;">
</span><span style="color:#eff1f5;">        </span><span style="color:#b48ead;">int</span><span style="color:#eff1f5;"> existingLength </span><span>=</span><span style="color:#eff1f5;"> rightIndex </span><span>-</span><span style="color:#eff1f5;"> leftIndex </span><span>- </span><span style="color:#d08770;">1</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">        </span><span style="color:#b48ead;">if </span><span style="color:#eff1f5;">(existingLength </span><span>&gt;</span><span style="color:#eff1f5;"> maxPalindrome.length) {
</span><span style="color:#eff1f5;">            maxPalindrome.startIndex </span><span>=</span><span style="color:#eff1f5;"> leftIndex </span><span>+ </span><span style="color:#d08770;">1</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">            maxPalindrome.length </span><span>=</span><span style="color:#eff1f5;"> existingLength;
</span><span style="color:#eff1f5;">        }
</span><span style="color:#eff1f5;">    }
</span><span style="color:#eff1f5;">
</span><span style="color:#eff1f5;">    </span><span style="color:#b48ead;">public </span><span style="color:#ebcb8b;">String </span><span style="color:#8fa1b3;">longestPalindrome</span><span style="color:#eff1f5;">(</span><span style="color:#ebcb8b;">String </span><span style="color:#bf616a;">s</span><span style="color:#eff1f5;">) {
</span><span style="color:#eff1f5;">        </span><span style="color:#ebcb8b;">PalindromeSequence</span><span style="color:#eff1f5;"> maxPalindrome </span><span>= </span><span style="color:#b48ead;">new </span><span style="color:#ebcb8b;">PalindromeSequence</span><span style="color:#eff1f5;">();
</span><span style="color:#eff1f5;">
</span><span style="color:#eff1f5;">        </span><span style="color:#b48ead;">for </span><span style="color:#eff1f5;">(</span><span style="color:#b48ead;">int</span><span style="color:#eff1f5;"> i </span><span>= </span><span style="color:#d08770;">0</span><span style="color:#eff1f5;">; i </span><span>&lt;</span><span style="color:#eff1f5;"> s.</span><span style="color:#bf616a;">length</span><span style="color:#eff1f5;">(); i</span><span>++</span><span style="color:#eff1f5;">) {
</span><span style="color:#eff1f5;">            </span><span style="color:#b48ead;">int</span><span style="color:#eff1f5;"> rightIndex </span><span>=</span><span style="color:#eff1f5;"> i;
</span><span style="color:#eff1f5;">            </span><span style="color:#b48ead;">int</span><span style="color:#eff1f5;"> leftIndex </span><span>=</span><span style="color:#eff1f5;"> i </span><span>- </span><span style="color:#d08770;">1</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">            </span><span style="color:#bf616a;">checkAndUpdateLongestPalindrome</span><span style="color:#eff1f5;">(s, leftIndex, rightIndex, maxPalindrome);
</span><span style="color:#eff1f5;">
</span><span style="color:#eff1f5;">            leftIndex </span><span>=</span><span style="color:#eff1f5;"> i </span><span>- </span><span style="color:#d08770;">1</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">            rightIndex </span><span>=</span><span style="color:#eff1f5;"> i </span><span>+ </span><span style="color:#d08770;">1</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">            </span><span style="color:#bf616a;">checkAndUpdateLongestPalindrome</span><span style="color:#eff1f5;">(s, leftIndex, rightIndex, maxPalindrome);
</span><span style="color:#eff1f5;">        }
</span><span style="color:#eff1f5;">
</span><span style="color:#eff1f5;">        </span><span style="color:#b48ead;">return</span><span style="color:#eff1f5;"> s.</span><span style="color:#bf616a;">substring</span><span style="color:#eff1f5;">(maxPalindrome.startIndex, maxPalindrome.startIndex </span><span>+</span><span style="color:#eff1f5;"> maxPalindrome.length);
</span><span style="color:#eff1f5;">    }
</span><span style="color:#eff1f5;">}
</span></code></pre>
<p>Dynamic programming alternative for reference</p>
<pre data-lang="java" style="background-color:#2b303b;color:#c0c5ce;" class="language-java "><code class="language-java" data-lang="java"><span style="color:#b48ead;">public class </span><span style="color:#ebcb8b;">LongestPalindromeDynamicProgramming </span><span style="color:#eff1f5;">{
</span><span style="color:#eff1f5;">    </span><span style="color:#b48ead;">public </span><span style="color:#ebcb8b;">String </span><span style="color:#8fa1b3;">longestPalindrome</span><span style="color:#eff1f5;">(</span><span style="color:#ebcb8b;">String </span><span style="color:#bf616a;">s</span><span style="color:#eff1f5;">) {
</span><span style="color:#eff1f5;">        </span><span style="color:#b48ead;">int</span><span style="color:#eff1f5;"> strLength </span><span>=</span><span style="color:#eff1f5;"> s.</span><span style="color:#bf616a;">length</span><span style="color:#eff1f5;">();
</span><span style="color:#eff1f5;">        </span><span style="color:#b48ead;">int</span><span style="color:#eff1f5;"> maxLength </span><span>= </span><span style="color:#d08770;">0</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">        </span><span style="color:#b48ead;">int</span><span style="color:#eff1f5;"> maxStartIndex </span><span>= </span><span style="color:#d08770;">0</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">
</span><span style="color:#eff1f5;">        </span><span style="color:#b48ead;">boolean[][]</span><span style="color:#eff1f5;"> dp </span><span>= </span><span style="color:#b48ead;">new boolean</span><span style="color:#eff1f5;">[strLength][strLength];
</span><span style="color:#eff1f5;">        </span><span style="color:#b48ead;">for </span><span style="color:#eff1f5;">(</span><span style="color:#b48ead;">int</span><span style="color:#eff1f5;"> i </span><span>=</span><span style="color:#eff1f5;"> strLength </span><span>- </span><span style="color:#d08770;">1</span><span style="color:#eff1f5;">; i </span><span>&gt;= </span><span style="color:#d08770;">0</span><span style="color:#eff1f5;">; i</span><span>--</span><span style="color:#eff1f5;">) {
</span><span style="color:#eff1f5;">            </span><span style="color:#b48ead;">for </span><span style="color:#eff1f5;">(</span><span style="color:#b48ead;">int</span><span style="color:#eff1f5;"> j </span><span>=</span><span style="color:#eff1f5;"> i; j </span><span>&lt;</span><span style="color:#eff1f5;"> strLength; j</span><span>++</span><span style="color:#eff1f5;">) {
</span><span style="color:#eff1f5;">                dp[i][j] </span><span>=</span><span style="color:#eff1f5;"> s.</span><span style="color:#bf616a;">charAt</span><span style="color:#eff1f5;">(i) </span><span>==</span><span style="color:#eff1f5;"> s.</span><span style="color:#bf616a;">charAt</span><span style="color:#eff1f5;">(j) </span><span>&amp;&amp; </span><span style="color:#eff1f5;">(j </span><span>-</span><span style="color:#eff1f5;"> i </span><span>&lt; </span><span style="color:#d08770;">2 </span><span>||</span><span style="color:#eff1f5;"> dp[i</span><span>+</span><span style="color:#d08770;">1</span><span style="color:#eff1f5;">][j</span><span>-</span><span style="color:#d08770;">1</span><span style="color:#eff1f5;">]);
</span><span style="color:#eff1f5;">                </span><span style="color:#b48ead;">int</span><span style="color:#eff1f5;"> existingLength </span><span>=</span><span style="color:#eff1f5;"> j </span><span>-</span><span style="color:#eff1f5;"> i </span><span>+ </span><span style="color:#d08770;">1</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">                </span><span style="color:#b48ead;">if </span><span style="color:#eff1f5;">(dp[i][j] </span><span>&amp;&amp;</span><span style="color:#eff1f5;"> existingLength </span><span>&gt;</span><span style="color:#eff1f5;"> maxLength) {
</span><span style="color:#eff1f5;">                    maxStartIndex </span><span>=</span><span style="color:#eff1f5;"> i;
</span><span style="color:#eff1f5;">                    maxLength </span><span>=</span><span style="color:#eff1f5;"> j </span><span>-</span><span style="color:#eff1f5;"> i </span><span>+ </span><span style="color:#d08770;">1</span><span style="color:#eff1f5;">;
</span><span style="color:#eff1f5;">                }
</span><span style="color:#eff1f5;">            }
</span><span style="color:#eff1f5;">        }
</span><span style="color:#eff1f5;">        </span><span style="color:#b48ead;">return</span><span style="color:#eff1f5;"> s.</span><span style="color:#bf616a;">substring</span><span style="color:#eff1f5;">(maxStartIndex, maxStartIndex </span><span>+</span><span style="color:#eff1f5;"> maxLength);
</span><span style="color:#eff1f5;">    }
</span><span style="color:#eff1f5;">}
</span></code></pre>


                </div>
            </div>

            <div class="prev-link">
                
    
        
        
        <a class="previous" href="https://gel.github.io/interviews/3-coding-problems/"><</a>
    

            </div>

            <div class="next-link">
                
    
        
        
        
        
        
        
            
            
            
                
            
                
            
                
            
        
            
            
            
                
            
                
            
        
            
            
            
                
            
                
                    
                
            
        
            
            
                <a class="next" href="https://gel.github.io/interviews/4-system-design/">></a>
                
                
            
            
        
    

            </div>
        </div>

        
            
            <script type="text/javascript" src="https://gel.github.io/elasticlunr.min.js"></script>
            <script type="text/javascript" src="https://gel.github.io/search_index.en.js"></script>
            
            <script type="text/javascript" src="https://gel.github.io/book.js"></script>
            <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        

    </main>
    <footer class="footer-page">
    
      
    
    </footer>
  </body>
</html>
