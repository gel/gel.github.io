{% extends "base.html" %}

{% import "reading-book-preview.html" as reading_book_macros %}

{% block styles%}
  <link rel="stylesheet" href="{{ get_url(path="main.css") | safe }}">
  <link rel="stylesheet" href="{{ get_url(path="reading-books.css") | safe }}">
{% block css %}
{% endblock css %}
{% endblock styles %}

{% block posthead %}
  {% for post in section.pages %}
    <link rel="prerender" href="{{ post.permalink }}" />
  {% endfor %}
{% endblock posthead %}

{% block content %}
  {{ section.content | safe }}

  <h2>Personal Development Books</h2>
  {% set subsection = get_section(path="books/personal-development/_index.md") %}
  {% for post in subsection.pages %}
    {{ reading_book_macros::reading_book_preview(post=post, path="personal-development") }}
  {% endfor %}

  <h2>Finance Books</h2>
  {% set subsection = get_section(path="books/finance/_index.md") %}
  {% for post in subsection.pages %}
    {{ reading_book_macros::reading_book_preview(post=post, path="finance") }}
  {% endfor %}

  <h2>Programming Books</h2>
  {% set subsection = get_section(path="books/programming/_index.md") %}
  {% for post in subsection.pages %}
    {{ reading_book_macros::reading_book_preview(post=post, path="programming") }}
  {% endfor %}

  <h2>Health Books</h2>
  {% set subsection = get_section(path="books/health/_index.md") %}
  {% for post in subsection.pages %}
    {{ reading_book_macros::reading_book_preview(post=post, path="health") }}
  {% endfor %}

  <h2>Parenting Books</h2>
  {% set subsection = get_section(path="books/parenting/_index.md") %}
  {% for post in subsection.pages %}
    {{ reading_book_macros::reading_book_preview(post=post, path="parenting") }}
  {% endfor %}

  <h2>History Books</h2>
  {% set subsection = get_section(path="books/history/_index.md") %}
  {% for post in subsection.pages %}
    {{ reading_book_macros::reading_book_preview(post=post, path="history") }}
  {% endfor %}

  <h2>Fiction Books</h2>
  {% set subsection = get_section(path="books/fiction/_index.md") %}
  {% for post in subsection.pages %}
    {{ reading_book_macros::reading_book_preview(post=post, path="fiction") }}
  {% endfor %}
{% endblock content %}
